<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <title>Title</title>
</head>
<body>
<h1>hello world</h1>
<div id="head-div">
    <div id="div-two" class="spaceBox">
        <p>Proxy Zone</p>
        <div class="organisation-box">
            <p id="status_code_proxy_post" class="spaceBox"></p>
            <p id="text_proxy_post" class="spaceBox"></p>
        </div>
    </div>
</div>
<button id="buttonRefresh">Refresh the page</button>
<script>
    fetch("https://api.cdk.emo.d.kodehyve.com",
        {
            method: 'GET',
            mode: "cors",

        })
        .then(reponse => {
            document.getElementById("status_code_proxy_post").innerText = "status: " + reponse.status;
            if (reponse.status === 200) {
                return reponse.json()
            } else {
                return "NOT OK"
            }
        }).catch(function (error) {
        console.log('Il y a eu un problème avec l\'opération fetch: ' + error.message);
    })
        .then(function (value) {
            document.getElementById("text_proxy_post").innerText = " message: " + value;
        });


</script>
<script>
    const element = document.getElementById('buttonRefresh')
    element.addEventListener("click", () => {
        location.reload();
    });
</script>
</body>
</html>